import{r as o,A as f,o as u,j as i,c as r}from"./index-7a7cd404.js";const p=()=>{const[s,n]=o.useState([]),[c,l]=o.useState(!1);o.useEffect(()=>{d()},[]);const d=async()=>{try{l(!0);const e=await f("get",u);if(e instanceof Error)console.error("Error fetching state list:",e.message);else if(e.status===200){console.log(e);const t=e.data.newsData.map(a=>({...a,createdAt:m(a.createdAt)}));n(t)}else console.error("Error fetching state list. Unexpected status:",e.status)}catch(e){console.error("Error fetching state list:",e)}finally{l(!1)}},m=e=>{const t=new Date(e);return`${t.getDate()}-${t.getMonth()+1}-${t.getFullYear()} ${t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})}`};return i("div",{children:[r("h2",{className:" font-bold text-primary text-lg",children:"Latest News"}),c?r("span",{className:"animate-[spin_2s_linear_infinite] border-8 border-[#f1f2f3] border-l-primary border-r-primary rounded-full w-14 h-14 inline-block align-middle m-auto mb-10"}):(s==null?void 0:s.length)>0?s.map((e,t)=>i("div",{className:"w-full flex flex-col h-auto bg-primary text-white p-4 mt-6 gap-3 rounded-md",children:[r("h4",{className:"text-lg font-semibold text-warning",children:e==null?void 0:e.title}),r("span",{className:"text-xs",children:e==null?void 0:e.createdAt}),r("p",{children:e==null?void 0:e.news})]},t)):r("span",{className:"align-middle m-auto mb-10",children:"Empty News"})]})};export{p as default};
