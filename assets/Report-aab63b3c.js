import{r as h,A as u,D as w,j as d,F as S,c as r,E as y,L as v,G as I,H as E}from"./index-7a7cd404.js";import{I as U}from"./index.es-df77f33c.js";const j=()=>{const[o,f]=h.useState("directIncome"),[i,a]=h.useState([]),[g,p]=h.useState(1),[F,s]=h.useState(!1);h.useEffect(()=>{b()},[]);const b=async t=>{var n;f("directIncome");try{s(!0);const e=await u("get",w,"",{page:t,pageSize:10});if(e instanceof Error)console.error("Error fetching  Direct Icome list:",e.message);else if(e.status===200){const c=(n=e==null?void 0:e.data)==null?void 0:n.directIncome.map(l=>({...l,createdAt:m(l.createdAt)}));a(c),s(!1)}else console.error("Error fetching Direct Icome list. Unexpected status:",e.status)}catch(e){console.error("Error fetching Direct Icome list:",e)}finally{s(!1)}},A=async t=>{var n;f("inDirectIncome");try{s(!0);const e=await u("get",y,"",{page:t,pageSize:10});if(e instanceof Error)console.error("Error fetching InDirect list:",e.message);else if(e.status===200){const c=(n=e==null?void 0:e.data)==null?void 0:n.inDirectIncome.map(l=>({...l,createdAt:m(l.createdAt)}));a(c),s(!1)}else console.error("Error fetching InDirect list. Unexpected status:",e.status)}catch(e){console.error("Error fetching InDirect list:",e)}finally{s(!1)}},D=async t=>{var n;p(1),f("levelIncome");try{s(!0);const e=await u("get",v,"",{page:t,pageSize:10});if(e instanceof Error)console.error("Error fetching levelIncome list:",e.message);else if(e.status===200){const c=(n=e==null?void 0:e.data)==null?void 0:n.levelIncome.map(l=>({...l,createdAt:m(l.createdAt)}));a(c),s(!1)}else console.error("Error fetching levelIncome list. Unexpected status:",e.status)}catch(e){console.error("Error fetching levelIncome list:",e)}finally{s(!1)}},N=async t=>{var n;p(1),f("autoPoolCreditHistory");try{s(!0);const e=await u("get",I,"",{page:t,pageSize:10});if(e instanceof Error)console.error("Error fetching auto pool list:",e.message);else if(e.status===200){console.log(e==null?void 0:e.data);const c=(n=e==null?void 0:e.data)==null?void 0:n.autoPoolCreditHistory.map(l=>({...l,createdAt:m(l.createdAt)}));a(c),s(!1)}else console.error("Error fetching auto pool list. Unexpected status:",e.status)}catch(e){console.error("Error fetching auto pool list:",e)}finally{s(!1)}},R=async t=>{var n;p(1),f("bonus");try{s(!0);const e=await u("get",E,"",{page:t,pageSize:10});if(e instanceof Error)console.error("Error fetching bonus list:",e.message);else if(e.status===200){console.log(e);const c=(n=e==null?void 0:e.data)==null?void 0:n.creditBonusHistory.map(l=>({...l,createdAt:m(l.createdAt)}));a(c),s(!1)}else console.error("Error fetching bonus list. Unexpected status:",e.status)}catch(e){console.error("Error fetching bonus list:",e)}finally{s(!1)}},C=()=>{(async()=>{var n,e;try{s(!0);const c=await u("get",o==="directIncome"?w:o==="inDirectIncome"?y:o==="levelIncome"?v:o==="autoPoolCreditHistory"?I:E,"",{page:g+1,pageSize:10});if(c instanceof Error)console.error("Error fetching allMembers list:",c.message);else if(c.status===200){const l=(e=(n=c.data)==null?void 0:n[o])==null?void 0:e.map(x=>({...x,createdAt:m(x.createdAt)}));a(i.concat(l)),p(g+1),s(!1)}else console.error("Error fetching allMembers list. Unexpected status:",c.status)}catch(c){console.error("Error fetching allMembers list:",c)}finally{s(!1)}console.log(g)})()},m=t=>{const n=new Date(t);return`${n.getDate()}-${n.getMonth()+1}-${n.getFullYear()}
         ${n.toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})}`};return d(S,{children:[d("div",{className:"flex flex-wrap gap-5 w-full mb-4",children:[r("div",{onClick:()=>b(1),className:`panel cursor-pointer flex items-center overflow-x-auto whitespace-nowrap p-2 text-base ${o==="directIncome"?"bg-primary text-warning":"bg-white border-2 border-warning text-primary font-bold"} justify-center max-w-[120px] w-full`,children:"Direct"}),r("div",{onClick:()=>A(1),className:`panel cursor-pointer flex items-center overflow-x-auto whitespace-nowrap p-2 text-base ${o==="inDirectIncome"?"bg-primary text-warning":"bg-white border-2 border-warning text-primary font-bold"} justify-center max-w-[120px] w-full`,children:"InDirect"}),r("div",{onClick:()=>D(1),className:`panel cursor-pointer flex items-center overflow-x-auto whitespace-nowrap p-2 text-base ${o==="levelIncome"?"bg-primary text-warning":"bg-white border-2 border-warning text-primary font-bold"} justify-center max-w-[120px] w-full`,children:"LevelIncome"}),r("div",{onClick:()=>N(1),className:`panel cursor-pointer flex items-center overflow-x-auto whitespace-nowrap p-2 text-base ${o==="autoPoolCreditHistory"?"bg-primary text-warning":"bg-white border-2 border-warning text-primary font-bold"} justify-center max-w-[120px] w-full`,children:"Auto pool"}),r("div",{onClick:()=>R(1),className:`panel cursor-pointer flex items-center overflow-x-auto whitespace-nowrap p-2 text-base ${o==="bonus"?"bg-primary text-warning":"bg-white border-2 border-warning text-primary font-bold"} justify-center max-w-[120px] w-full`,children:"Bonus"})]}),d("div",{className:`panel ${i.length>=10?"min-h-[95vh]":"h-full"}`,children:[r("div",{className:"flex items-center justify-between mb-5",children:r("h5",{className:"font-semibold text-primary text-lg dark:text-white-light",children:"Report"})}),r("div",{className:"table-responsive mb-5",children:r(U,{dataLength:i==null?void 0:i.length,next:C,hasMore:!0,loader:void 0,children:d("table",{children:[r("thead",{children:d("tr",{children:[r("th",{children:"SIno"}),r("th",{children:"Date"}),o!=="autoPoolCreditHistory"&&o!=="bonus"?r("th",{children:"Amount From"}):o!=="bonus"&&r("th",{children:"Designation"}),o==="levelIncome"&&r("th",{children:" New Member"}),o!=="levelIncome"&&o!=="autoPoolCreditHistory"&&o!=="bonus"&&r("th",{children:" Franchise"}),o!=="bonus"&&r("th",{children:" PercentageCredited"}),o==="levelIncome"&&r("th",{children:" Amount"}),o==="bonus"?r("th",{children:"Bonus Amount"}):r("th",{children:" Amount Credited"})]})}),r("tbody",{children:(i==null?void 0:i.length)>0?i.map((t,n)=>d("tr",{children:[r("td",{children:r("div",{className:" font-medium text-base",children:n+1})}),r("td",{className:"font-medium text-base",children:t==null?void 0:t.createdAt}),o!=="bonus"&&r("td",{children:r("div",{className:"whitespace-nowrap font-medium text-base",children:t==null?void 0:t.name})}),o==="levelIncome"&&r("td",{className:"font-medium text-base",children:t==null?void 0:t.newMember}),o!=="bonus"&&o!=="levelIncome"&&r("td",{className:"font-medium text-base",children:t==null?void 0:t.franchise}),o!=="bonus"&&r("td",{className:"font-medium text-base",children:t==null?void 0:t.percentageCredited}),o==="levelIncome"&&r("td",{className:"font-medium text-base",children:t==null?void 0:t.Amount}),r("td",{className:"text-center text-success font-medium text-base",children:o!=="bonus"?t==null?void 0:t.amountCredited:t==null?void 0:t.bonusAmount})]},n)):r("tr",{children:r("td",{colSpan:7,style:{textAlign:"center"},children:r("span",{className:"align-middle m-auto mb-10",children:"No Reports"})})})})]})})})]})]})};export{j as default};
